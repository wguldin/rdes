!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.baguetteBox=e()}(this,function(){"use strict";function t(t,e){var n=document.querySelectorAll(t),a={galleries:[],nodeList:n};S[t]=a,[].forEach.call(n,function(t){e&&e.filter&&(N=e.filter);var n=[];if(n="A"===t.tagName?[t]:t.getElementsByTagName("a"),0!==(n=[].filter.call(n,function(t){if(-1===t.className.indexOf(e&&e.ignoreClass))return N.test(t.href)})).length){var r=[];[].forEach.call(n,function(t,n){var a=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,function(t,e){if(H!==t){for(H=t,function(t){t||(t={});for(var e in B)x[e]=B[e],void 0!==t[e]&&(x[e]=t[e]);v.style.transition=v.style.webkitTransition="fadeIn"===x.animation?"opacity .4s ease":"slideIn"===x.animation?"":"none","auto"===x.buttons&&("ontouchstart"in window||1===H.length)&&(x.buttons=!1),y.style.display=b.style.display=x.buttons?"":"none";try{p.style.backgroundColor=x.overlayBackgroundColor}catch(t){}}(e);v.firstChild;)v.removeChild(v.firstChild);_.length=0;for(var n,i=[],o=[],a=0;a<t.length;a++)(n=g("div")).className="full-image",n.id="baguette-img-"+a,_.push(n),i.push("baguetteBox-figure-"+a),o.push("baguetteBox-figcaption-"+a),v.appendChild(_[a]);p.setAttribute("aria-labelledby",i.join(" ")),p.setAttribute("aria-describedby",o.join(" "))}}(r,e),function(t){x.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==p.style.display&&(f(document,"keydown",i),L={count:0,startX:null,startY:null},s(I=t,function(){c(I),d(I)}),l(),p.style.display="block",x.fullScreen&&(p.requestFullscreen?p.requestFullscreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.mozRequestFullScreen&&p.mozRequestFullScreen()),setTimeout(function(){p.className="visible",x.bodyClass&&document.body.classList&&document.body.classList.add(x.bodyClass),x.afterShow&&x.afterShow()},50),x.onChange&&x.onChange(I,_.length),z=document.activeElement,o())}(n)},u={eventHandler:a,imageElement:t};f(t,"click",a),r.push(u)}),a.galleries.push(r)}})}function e(t){if(S.hasOwnProperty(t)){var e=S[t].galleries;[].forEach.call(e,function(t){[].forEach.call(t,function(t){h(t.imageElement,"click",t.eventHandler)}),H===t&&(H=[])}),delete S[t]}}function n(){if(p=m("baguetteBox-overlay"))return v=m("baguetteBox-slider"),y=m("previous-button"),b=m("next-button"),void(w=m("close-button"));(p=g("div")).setAttribute("role","dialog"),p.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(p),(v=g("div")).id="baguetteBox-slider",p.appendChild(v),(y=g("button")).setAttribute("type","button"),y.id="previous-button",y.setAttribute("aria-label","Previous"),y.innerHTML=T.svg?C:"&lt;",p.appendChild(y),(b=g("button")).setAttribute("type","button"),b.id="next-button",b.setAttribute("aria-label","Next"),b.innerHTML=T.svg?k:"&gt;",p.appendChild(b),(w=g("button")).setAttribute("type","button"),w.id="close-button",w.setAttribute("aria-label","Close"),w.innerHTML=T.svg?E:"&times;",p.appendChild(w),y.className=b.className=w.className="baguetteBox-button",f(p,"click",P),f(y,"click",R),f(b,"click",q),f(w,"click",D),f(v,"contextmenu",M),f(p,"touchstart",F),f(p,"touchmove",G),f(p,"touchend",j),f(document,"focus",Y,!0)}function i(t){switch(t.keyCode){case 37:u();break;case 39:r();break;case 27:a()}}function o(){x.buttons?y.focus():w.focus()}function a(){x.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==p.style.display&&(h(document,"keydown",i),p.className="",setTimeout(function(){p.style.display="none",document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),x.bodyClass&&document.body.classList&&document.body.classList.remove(x.bodyClass),x.afterHide&&x.afterHide(),z&&z.focus()},500))}function s(t,e){var n=_[t],i=H[t];if(void 0!==n&&void 0!==i)if(n.getElementsByTagName("img")[0])e&&e();else{var o=i.imageElement,a=o.getElementsByTagName("img")[0],s="function"==typeof x.captions?x.captions.call(H,o):o.getAttribute("data-caption")||o.title,r=function(t){var e=t.href;if(t.dataset){var n=[];for(var i in t.dataset)"at-"!==i.substring(0,3)||isNaN(i.substring(3))||(n[i.replace("at-","")]=t.dataset[i]);for(var o=Object.keys(n).sort(function(t,e){return parseInt(t,10)<parseInt(e,10)?-1:1}),a=window.innerWidth*window.devicePixelRatio,s=0;s<o.length-1&&o[s]<a;)s++;e=n[o[s]]||e}return e}(o),u=g("figure");if(u.id="baguetteBox-figure-"+t,u.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',x.captions&&s){var l=g("figcaption");l.id="baguetteBox-figcaption-"+t,l.innerHTML=s,u.appendChild(l)}n.appendChild(u);var c=g("img");c.onload=function(){var n=document.querySelector("#baguette-img-"+t+" .baguetteBox-spinner");u.removeChild(n),!x.async&&e&&e()},c.setAttribute("src",r),c.alt=a?a.alt||"":"",x.titleTag&&s&&(c.title=s),u.appendChild(c),x.async&&e&&e()}}function r(){var t;return I<=_.length-2?(I++,l(),c(I),t=!0):x.animation&&(v.className="bounce-from-right",setTimeout(function(){v.className=""},400),t=!1),x.onChange&&x.onChange(I,_.length),t}function u(){var t;return I>=1?(I--,l(),d(I),t=!0):x.animation&&(v.className="bounce-from-left",setTimeout(function(){v.className=""},400),t=!1),x.onChange&&x.onChange(I,_.length),t}function l(){var t=100*-I+"%";"fadeIn"===x.animation?(v.style.opacity=0,setTimeout(function(){T.transforms?v.style.transform=v.style.webkitTransform="translate3d("+t+",0,0)":v.style.left=t,v.style.opacity=1},400)):T.transforms?v.style.transform=v.style.webkitTransform="translate3d("+t+",0,0)":v.style.left=t}function c(t){t-I>=x.preload||s(t+1,function(){c(t+1)})}function d(t){I-t>=x.preload||s(t-1,function(){d(t-1)})}function f(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent("on"+e,function(t){(t=t||window.event).target=t.target||t.srcElement,n(t)})}function h(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent("on"+e,n)}function m(t){return document.getElementById(t)}function g(t){return document.createElement(t)}var p,v,y,b,w,C='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',k='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',E='<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',x={},B={captions:!0,buttons:"auto",fullScreen:!1,noScrollbars:!1,bodyClass:"baguetteBox-open",titleTag:!1,async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},T={},H=[],I=0,L={},A=!1,N=/.+\.(gif|jpe?g|png|webp)/i,S={},_=[],z=null,P=function(t){-1!==t.target.id.indexOf("baguette-img")&&a()},R=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,u()},q=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,r()},D=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,a()},F=function(t){L.count++,L.count>1&&(L.multitouch=!0),L.startX=t.changedTouches[0].pageX,L.startY=t.changedTouches[0].pageY},G=function(t){if(!A&&!L.multitouch){t.preventDefault?t.preventDefault():t.returnValue=!1;var e=t.touches[0]||t.changedTouches[0];e.pageX-L.startX>40?(A=!0,u()):e.pageX-L.startX<-40?(A=!0,r()):L.startY-e.pageY>100&&a()}},j=function(){L.count--,L.count<=0&&(L.multitouch=!1),A=!1},M=function(){j()},Y=function(t){"block"===p.style.display&&p.contains&&!p.contains(t.target)&&(t.stopPropagation(),o())};return[].forEach||(Array.prototype.forEach=function(t,e){for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)}),[].filter||(Array.prototype.filter=function(t,e,n,i,o){for(n=this,i=[],o=0;o<n.length;o++)t.call(e,n[o],o,n)&&i.push(n[o]);return i}),{run:function(i,o){T.transforms=function(){var t=g("div");return void 0!==t.style.perspective||void 0!==t.style.webkitPerspective}(),T.svg=function(){var t=g("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),n(),e(i),t(i,o)},showNext:r,showPrevious:u,destroy:function(){h(p,"click",P),h(y,"click",R),h(b,"click",q),h(w,"click",D),h(v,"contextmenu",M),h(p,"touchstart",F),h(p,"touchmove",G),h(p,"touchend",j),h(document,"focus",Y,!0),function(){for(var t in S)S.hasOwnProperty(t)&&e(t)}(),h(document,"keydown",i),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),S={},H=[],I=0}}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.Colcade=e()}(window,function(){function t(t,e){if((t=o(t))&&t.colcadeGUID){var n=r[t.colcadeGUID];return n.option(e),n}this.element=t,this.options={},this.option(e),this.create()}function e(e){var n={};e.getAttribute("data-colcade").split(",").forEach(function(t){var e=t.split(":"),i=e[0].trim(),o=e[1].trim();n[i]=o}),new t(e,n)}function n(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function i(t,e){return n((e=e||document).querySelectorAll(t))}function o(t){return"string"==typeof t&&(t=document.querySelector(t)),t}var a=t.prototype;a.option=function(t){this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(this.options,t)};var s=0,r={};return a.create=function(){this.errorCheck();var t=this.guid=++s;this.element.colcadeGUID=t,r[t]=this,this.reload(),this._windowResizeHandler=this.onWindowResize.bind(this),this._loadHandler=this.onLoad.bind(this),window.addEventListener("resize",this._windowResizeHandler),this.element.addEventListener("load",this._loadHandler,!0)},a.errorCheck=function(){var t=[];if(this.element||t.push("Bad element: "+this.element),this.options.columns||t.push("columns option required: "+this.options.columns),this.options.items||t.push("items option required: "+this.options.items),t.length)throw new Error("[Colcade error] "+t.join(". "))},a.reload=function(){this.updateColumns(),this.updateItems(),this.layout()},a.updateColumns=function(){this.columns=i(this.options.columns,this.element)},a.updateItems=function(){this.items=i(this.options.items,this.element)},a.getActiveColumns=function(){return this.columns.filter(function(t){return"none"!=getComputedStyle(t).display})},a.layout=function(){this.activeColumns=this.getActiveColumns(),this._layout()},a._layout=function(){this.columnHeights=this.activeColumns.map(function(){return 0}),this.layoutItems(this.items)},a.layoutItems=function(t){t.forEach(this.layoutItem,this)},a.layoutItem=function(t){var e=Math.min.apply(Math,this.columnHeights),n=this.columnHeights.indexOf(e);this.activeColumns[n].appendChild(t),this.columnHeights[n]+=t.offsetHeight||1},a.append=function(t){var e=this.getQueryItems(t);this.items=this.items.concat(e),this.layoutItems(e)},a.prepend=function(t){var e=this.getQueryItems(t);this.items=e.concat(this.items),this._layout()},a.getQueryItems=function(t){t=n(t);var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t)}),i(this.options.items,e)},a.measureColumnHeight=function(t){var e=this.element.getBoundingClientRect();this.activeColumns.forEach(function(n,i){if(!t||n.contains(t)){var o=n.lastElementChild.getBoundingClientRect();this.columnHeights[i]=o.bottom-e.top}},this)},a.onWindowResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.onDebouncedResize()}.bind(this),100)},a.onDebouncedResize=function(){var t=this.getActiveColumns(),e=t.length==this.activeColumns.length,n=!0;this.activeColumns.forEach(function(e,i){n=n&&e==t[i]}),e&&n||(this.activeColumns=t,this._layout())},a.onLoad=function(t){this.measureColumnHeight(t.target)},a.destroy=function(){this.items.forEach(function(t){this.element.appendChild(t)},this),window.removeEventListener("resize",this._windowResizeHandler),this.element.removeEventListener("load",this._loadHandler,!0),delete this.element.colcadeGUID,delete r[this.guid]},function(t){"complete"!=document.readyState?document.addEventListener("DOMContentLoaded",t):t()}(function(){i("[data-colcade]").forEach(e)}),t.data=function(t){var e=(t=o(t))&&t.colcadeGUID;return e&&r[e]},t.makeJQueryPlugin=function(e){(e=e||window.jQuery)&&(e.fn.colcade=function(n){if("string"==typeof n){return function(t,n,i){var o;return t.each(function(t,a){var s=e.data(a,"colcade");if(s){var r=s[n].apply(s,i);o=void 0===o?r:o}}),void 0!==o?o:t}(this,n,Array.prototype.slice.call(arguments,1))}return function(n,i){n.each(function(n,o){var a=e.data(o,"colcade");a?(a.option(i),a.layout()):(a=new t(o,i),e.data(o,"colcade",a))})}(this,n),this})},t.makeJQueryPlugin(),t});var rdes={imageGrid:{},gallery:{}};rdes.imageGrid=function(){var t,e={},n=document.querySelector(".c-image-grid");return e.setupGrid=function(){t=new Colcade(n,{columns:".c-image-grid__col",items:".c-image-grid__image"})},e.debounce=function(t,e,n){var i;return function(){var o=this,a=arguments,s=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(o,a)},e),s&&t.apply(o,a)}},e.recreateGrid=e.debounce(function(){console.log("hit"),t.destroy(),t=new Colcade(n,{columns:".c-image-grid__col",items:".c-image-grid__image"})},250),e.init=function(){e.setupGrid(),window.addEventListener("resize",e.recreateGrid)},e}(),rdes.gallery=function(){var t={};return t.init=function(){console.log("hit"),baguetteBox.run(".c-image-grid")},t}(),rdes.imageGrid.init(),rdes.gallery.init();